# v0.1.1 之后的下一步开发计划（2025-10-24）

## 目标概述
- 提升登录态下的数据访问体验与权限模型可用性。
- 扩展视图与记录操作能力，完善编辑与加载表现。
- 加强可观测性、测试与发布流程的稳定性。

## Server
- 实现 `GET /api/views/:id/data/authed`（JwtAuthGuard），复用 `ViewsService.getData`，绕过 `anonymousEnabled`。
- 表权限模型拓展：引入 `ownerId`，允许 `Role.user` 访问/创建自己的表；调整 `TablesController` 装饰器策略。
- 审计日志增强：记录视图配置变更（filters/sort/group/agg）与操作人。
- 速率限制配置化：支持 `RATE_LIMIT_WINDOW_MS`、`RATE_LIMIT_MAX` 环境变量并在文档中说明。

## Web
- 表详情：新增“创建记录/创建字段”入口与操作后刷新（对齐后端 Records/Fields）。
- Grid 编辑器：类型化输入（数值、日期、枚举多选、引用），右键菜单与快捷键（复制/粘贴/撤销）。
- 视图面板：筛选/排序/分页统一加载体验；保存提示与回显稳定性提升。
- 错误提示：403 友好文案与重试指引；加载态占位与空状态优化。

## QA/DevOps
- 增加登录限流用例：快速登录 6 次期望 403 与友好提示。
- E2E：视图匿名/登录态读取覆盖；表只读权限用例。
- Docker 开发：统一前端端口、后端健康检查与 `db push` 自动化。

## 里程碑与验收
- M2.1 视图/记录入口可操作（验收：新增后列表刷新）。
- M2.2 登录态视图数据端点可用（验收：`/grid/:id` 走 authed 接口）。
- M2.3 权限模型拓展（验收：普通用户可创建与查看自己的表）。

## 风险与缓解
- 权限放宽导致越权风险：后端二次校验与审计日志保障。
- 编辑器类型复杂度上升：分阶段上线，先数值/日期。
- 速率限制参数配置不当：提供默认值与文档说明，灰度验证。